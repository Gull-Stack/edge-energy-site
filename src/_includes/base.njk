<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{ description | default(site.description) }}">
  <meta name="keywords" content="microgrid Texas, home battery backup, solar energy Texas, ERCOT backup power, whole home battery, energy independence Texas">
  
  <meta property="og:title" content="{{ title | default(site.name) }}">
  <meta property="og:description" content="{{ description | default(site.description) }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url }}{{ page.url }}">
  <meta property="og:image" content="{{ site.url }}/images/og-image.jpg">
  
  <link rel="canonical" href="{{ site.url }}{{ page.url }}">
  <title>{{ title | default(site.name + ' | ' + site.tagline) }}</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Montserrat:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ '/css/styles.css' | url }}">
  
  {% block head %}{% endblock %}
</head>
<body>
  {% include "header.njk" %}
  
  <main>
    {% block content %}{{ content | safe }}{% endblock %}
  </main>
  
  {% include "footer.njk" %}
  
  <script>
    // Mobile nav toggle
    const mobileToggle = document.querySelector('.mobile-toggle');
    const navLinks = document.querySelector('.nav-links');
    if (mobileToggle) {
      mobileToggle.addEventListener('click', () => {
        navLinks.classList.toggle('active');
        mobileToggle.classList.toggle('active');
      });
    }
    
    // Scroll animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
    
    document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));
  </script>
</body>
</html>
